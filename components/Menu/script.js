!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("../../components/Popover"),require("../../utils/Row"),require("../../utils/assert"),require("@square/maker-icons/Check"),require("@square/maker-icons/ChevronDown"));else if("function"==typeof define&&define.amd)define(["../../components/Popover","../../utils/Row","../../utils/assert","@square/maker-icons/Check","@square/maker-icons/ChevronDown"],t);else{var n="object"==typeof exports?t(require("../../components/Popover"),require("../../utils/Row"),require("../../utils/assert"),require("@square/maker-icons/Check"),require("@square/maker-icons/ChevronDown")):t(e["../../components/Popover"],e["../../utils/Row"],e["../../utils/assert"],e["@square/maker-icons/Check"],e["@square/maker-icons/ChevronDown"]);for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(this,(function(e,t,n,o,s){return(()=>{var r={89:function(e){e.exports=function(){"use strict";var e=function(e){var t=e.props,n=e.data,o=e.parent,s=function e(t){return Array.isArray(t)?(n=t=>e(t),t.reduce(((e,t)=>e.concat(n(t))),[])):null!==(o=t)&&"object"==typeof o?function(e){let t=[];for(const n in e)e[n]&&t.push(n);return t}(t):"string"==typeof t&&t?[t]:[];var n,o}([n.staticClass,n.class]);if(s){var r,i,l,c=(i=(r=t).body,l=r.document,i?window.document.body:!!l&&window.document.documentElement);if(c){var a=function(e,t){if(!t.length)return;const{classList:n}=e;return t.filter((e=>{if(!n.contains(e))return n.add(e),!0}))}(c,s),u=function(){!function(e,t){if(!t||!t.length)return;let n;for(;n=t.shift();)e.classList.remove(n);e.classList.length||e.removeAttribute("class")}(c,a)};o.$once("hook:beforeUpdate",u),o.$once("hook:destroyed",u)}}},t=Object.prototype.hasOwnProperty,n=function(e,t,n){var o="&"===t[0],s="~"===(t=o?t.slice(1):t)[0],r="!"===(t=s?t.slice(1):t)[0];return{o:e,t:t=r?t.slice(1):t,i:n,u:{once:s,capture:r,passive:o}}},o=function(e){var o,s,r,i=e.props,l=e.listeners,c=e.parent,a=function(e,o){var s,r,i=[];for(var l in o)if(s=o,r=l,t.call(s,r)){var c=o[l],a=n(e,l,c);a.o.addEventListener(a.t,a.i,a.u),i.push(a)}return i}((s=(o=i).body,r=o.document,s?window.document.body:r?window.document:window),l),u=function(){!function(e){for(var t;t=e.shift();)t.o.removeEventListener(t.t,t.i,t.u)}(a)};c.$once("hook:beforeUpdate",u),c.$once("hook:destroyed",u)},s=function(t){o(t),e(t)};return{name:"pseudo-window",functional:!0,props:{document:Boolean,body:Boolean},render:function(e,t){return t.parent._isMounted?s(t):t.parent.$once("hook:mounted",(function(){s(t)})),t.slots().default}}}()},382:t=>{"use strict";t.exports=e},431:e=>{"use strict";e.exports=t},455:e=>{"use strict";e.exports=n},82:e=>{"use strict";e.exports=o},538:e=>{"use strict";e.exports=s}},i={};function l(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return r[e].call(n.exports,n,n.exports,l),n.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return(()=>{"use strict";l.r(c),l.d(c,{MMenu:()=>h,MMenuOption:()=>x});var e=l(89),t=l.n(e),n=l(382),o=l(455),s=l.n(o),r=l(538);const i={components:{ChevronDownIcon:l.n(r)()},inheritAttrs:!1,model:{prop:"value",event:"select:update"},props:{variant:{type:String,default:"fill",validator:e=>["fill","outline"].includes(e)},value:{type:String,default:void 0},placeholder:{type:String,default:""},options:{type:Array,default:()=>[]},invalid:{type:Boolean,default:!1}},computed:{selected:{get(){return this.value},set(e){return this.$emit("select:update",e),e}},optionSelected(){return this.options.find((e=>e.value===this.value))},placeholderValue(){return this.optionSelected?void 0:this.value}},mounted(){this.setCustomValidity()},updated(){this.setCustomValidity()},methods:{setCustomValidity(){var e,t;const n=this.invalid?"invalid":"";null===(e=this.$refs)||void 0===e||null===(t=e.select)||void 0===t||t.setCustomValidity(n)}}},a={variant_fill:"ðŸ“š0-0-0-semantic-releaseMNP6k",variant_outline:"ðŸ“š0-0-0-semantic-releaseK9CIe",SelectContainer:"ðŸ“š0-0-0-semantic-releasei5cEi",Prefix:"ðŸ“š0-0-0-semantic-releasepnDG1",Select:"ðŸ“š0-0-0-semantic-releaseQHt8E",SelectButton:"ðŸ“š0-0-0-semantic-releaseabtNx",hasPrefix:"ðŸ“š0-0-0-semantic-releasewDbAV",selected:"ðŸ“š0-0-0-semantic-releaseYEaIi",invalid:"ðŸ“š0-0-0-semantic-releaseHbnlJ",Icon:"ðŸ“š0-0-0-semantic-releasevqrGe"};function u(e,t,n,o,s,r,i,l){var c,a="function"==typeof e?e.options:e;if(t&&(a.render=t,a.staticRenderFns=n,a._compiled=!0),o&&(a.functional=!0),r&&(a._scopeId="data-v-"+r),i?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},a._ssrRegister=c):s&&(c=l?function(){s.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:s),c)if(a.functional){a._injectStyles=c;var u=a.render;a.render=function(e,t){return c.call(t),u(e,t)}}else{var d=a.beforeCreate;a.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:a}}const d=u(i,(function(){var e,t,n=this,o=n.$createElement,s=n._self._c||o;return s("div",{class:[n.$s.SelectContainer,n.$s["variant_"+n.variant]]},[n.$slots.prefix?s("span",{class:n.$s.Prefix},[n._t("prefix")],2):n._e(),n._v(" "),n.$slots.default?s("button",n._g(n._b({class:[n.$s.SelectButton,(e={},e[n.$s.hasPrefix]=n.$slots.prefix,e)]},"button",n.$attrs,!1),n.$listeners),[s("span",[n._t("default")],2)]):s("select",n._g(n._b({directives:[{name:"model",rawName:"v-model",value:n.selected,expression:"selected"}],ref:"select",class:[n.$s.Select,(t={},t[n.$s.selected]=n.optionSelected,t[n.$s.invalid]=n.invalid,t[n.$s.hasPrefix]=n.$slots.prefix,t)],on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));n.selected=e.target.multiple?t:t[0]}}},"select",n.$attrs,!1),n.$listeners),[n.placeholder?s("option",{attrs:{disabled:""},domProps:{value:n.placeholderValue}},[n._v("\n\t\t\t"+n._s(n.placeholder)+"\n\t\t")]):n._e(),n._v(" "),n._l(n.options,(function(e){return s("option",{key:e.value,attrs:{disabled:e.disabled},domProps:{value:e.value,selected:e.value===n.value}},[n._v("\n\t\t\t"+n._s(e.label)+"\n\t\t")])}))],2),n._v(" "),s("chevron-down-icon",{class:n.$s.Icon})],1)}),[],!1,(function(e){this.$s=a.locals||a}),null,null).exports,p=Symbol("MenuKey"),f={components:{PseudoWindow:t(),MPopover:n.MPopover,MPopoverContent:n.MPopoverContent,SelectControl:d},provide(){return{[p]:this.$data}},inheritAttrs:!1,model:{prop:"selected",event:"menu:update"},props:{selected:{type:void 0,default:void 0},type:{type:String,default:"single-select",validator:e=>["multi-select","single-select","action"].includes(e)}},data(){return{currentValue:this.selected,isSingleSelect:"single-select"===this.type,isMultiSelect:"multi-select"===this.type,isActionSelect:"action"===this.type}},watch:{selected(){this.validateProps(),this.currentValue=this.selected},currentValue(e){this.$emit("menu:update",e)}},created(){this.validateProps()},methods:{validateProps(){this.isMultiSelect&&s().error(Array.isArray(this.selected),"The v-model value for a multi-select must be of type Array.")},close(){this.$refs.popover.close()}}},v={MenuContent:"ðŸ“š0-0-0-semantic-releasenN_h_"};const h=u(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._g(e._b({class:e.$s.Menu},"div",e.$attrs,!1),e.$listeners),[n("m-popover",{ref:"popover",attrs:{placement:"bottom-start"},scopedSlots:e._u([{key:"action",fn:function(t){return[e.$slots["toggle-select"]?n("select-control",{on:{click:function(e){return e.stopPropagation(),t.toggle()}},scopedSlots:e._u([{key:"prefix",fn:function(){return[e._t("toggle-select-prefix")]},proxy:!0}],null,!0)},[e._v(" "),e._t("toggle-select")],2):n("div",{on:{click:function(e){return t.toggle()}}},[e._t("toggle")],2)]}},{key:"content",fn:function(){return[n("m-popover-content",{class:e.$s.MenuContent,attrs:{padding:"16px 0"}},[n("div",{attrs:{role:"menu"}},[e._t("menu")],2)])]},proxy:!0}],null,!0)}),e._v(" "),n("pseudo-window",{attrs:{document:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close.apply(null,arguments)}}})],1)}),[],!1,(function(e){this.$s=v.locals||v}),null,null).exports;var m=l(431),y=l(82),_=l.n(y);const S={components:{MRow:m.MRow,CheckIcon:_()},inject:{controlState:p},props:{value:{type:void 0,default:void 0},clickHandler:{type:Function,default:void 0}},computed:{isSelected(){const{isMultiSelect:e,isSingleSelect:t,currentValue:n}=this.controlState;return e?n.includes(this.value):t&&n===this.value},isSelectOption(){const{isMultiSelect:e,isSingleSelect:t}=this.controlState;return e||t}},mounted(){var e;null===(null===(e=this.$el)||void 0===e?void 0:e.previousElementSibling)&&this.$el.focus({preventScroll:!0})},methods:{selectSelf(){const{isMultiSelect:e,isActionSelect:t}=this.controlState;t&&this.clickHandler();let n=this.value;if(e){const e=this.controlState.currentValue.slice();if(e.includes(n)){const t=1;e.splice(e.indexOf(n),t)}else e.push(n);n=e}this.controlState.currentValue=n},handleKeyboardEvent(e){var t,n,o,s;switch(e.key){case"Enter":this.selectSelf();break;case"ArrowUp":null===(t=this.$el)||void 0===t||null===(n=t.previousElementSibling)||void 0===n||n.focus({preventScroll:!0});break;case"ArrowDown":null===(o=this.$el)||void 0===o||null===(s=o.nextElementSibling)||void 0===s||s.focus({preventScroll:!0})}}}},$={MenuOption:"ðŸ“š0-0-0-semantic-releasex0t7Q",Check:"ðŸ“š0-0-0-semantic-release_gou0",Icon:"ðŸ“š0-0-0-semantic-releasec5cPm"};const x=u(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("m-row",{class:e.$s.MenuOption,attrs:{role:"menuitem",tabindex:"0"},on:{click:e.selectSelf,keydown:e.handleKeyboardEvent},scopedSlots:e._u([e.isSelectOption||e.$slots.prefix?{key:"prefix",fn:function(){return[e.isSelectOption?n("span",{class:e.$s.Check},[e.isSelected?n("check-icon",{class:e.$s.Icon}):e._e()],1):e._t("prefix")]},proxy:!0}:null,e.$slots.secondary?{key:"secondary",fn:function(){return[e._t("secondary")]},proxy:!0}:null,e.$slots.side?{key:"side",fn:function(){return[e._t("side")]},proxy:!0}:null,e.$slots["side-secondary"]?{key:"side-secondary",fn:function(){return[e._t("side-secondary")]},proxy:!0}:null,e.$slots.suffix?{key:"suffix",fn:function(){return[e._t("suffix")]},proxy:!0}:null],null,!0)},[e._t("default")],2)}),[],!1,(function(e){this.$s=$.locals||$}),null,null).exports})(),c})()}));
//# sourceMappingURL=script.js.map
