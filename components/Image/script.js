!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("../../components/Skeleton"),require("../../components/Theme"),require("../../components/TransitionFadeIn"),require("lodash/throttle"));else if("function"==typeof define&&define.amd)define(["../../components/Skeleton","../../components/Theme","../../components/TransitionFadeIn","lodash/throttle"],t);else{var o="object"==typeof exports?t(require("../../components/Skeleton"),require("../../components/Theme"),require("../../components/TransitionFadeIn"),require("lodash/throttle")):t(e["../../components/Skeleton"],e["../../components/Theme"],e["../../components/TransitionFadeIn"],e["lodash/throttle"]);for(var n in o)("object"==typeof exports?exports:e)[n]=o[n]}}(this,(function(e,t,o,n){return(()=>{var s={89:function(e){e.exports=function(){"use strict";var e=function(e){var t=e.props,o=e.data,n=e.parent,s=function e(t){return Array.isArray(t)?(o=t=>e(t),t.reduce(((e,t)=>e.concat(o(t))),[])):null!==(n=t)&&"object"==typeof n?function(e){let t=[];for(const o in e)e[o]&&t.push(o);return t}(t):"string"==typeof t&&t?[t]:[];var o,n}([o.staticClass,o.class]);if(s){var r,i,a,c=(i=(r=t).body,a=r.document,i?window.document.body:!!a&&window.document.documentElement);if(c){var l=function(e,t){if(!t.length)return;const{classList:o}=e;return t.filter((e=>{if(!o.contains(e))return o.add(e),!0}))}(c,s),d=function(){!function(e,t){if(!t||!t.length)return;let o;for(;o=t.shift();)e.classList.remove(o);e.classList.length||e.removeAttribute("class")}(c,l)};n.$once("hook:beforeUpdate",d),n.$once("hook:destroyed",d)}}},t=Object.prototype.hasOwnProperty,o=function(e,t,o){var n="&"===t[0],s="~"===(t=n?t.slice(1):t)[0],r="!"===(t=s?t.slice(1):t)[0];return{o:e,t:t=r?t.slice(1):t,i:o,u:{once:s,capture:r,passive:n}}},n=function(e){var n,s,r,i=e.props,a=e.listeners,c=e.parent,l=function(e,n){var s,r,i=[];for(var a in n)if(s=n,r=a,t.call(s,r)){var c=n[a],l=o(e,a,c);l.o.addEventListener(l.t,l.i,l.u),i.push(l)}return i}((s=(n=i).body,r=n.document,s?window.document.body:r?window.document:window),a),d=function(){!function(e){for(var t;t=e.shift();)t.o.removeEventListener(t.t,t.i,t.u)}(l)};c.$once("hook:beforeUpdate",d),c.$once("hook:destroyed",d)},s=function(t){n(t),e(t)};return{name:"pseudo-window",functional:!0,props:{document:Boolean,body:Boolean},render:function(e,t){return t.parent._isMounted?s(t):t.parent.$once("hook:mounted",(function(){s(t)})),t.slots().default}}}()},78:t=>{"use strict";t.exports=e},219:e=>{"use strict";e.exports=t},403:e=>{"use strict";e.exports=o},400:e=>{"use strict";e.exports=n}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return s[e].call(o.exports,o,o.exports,i),o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{"use strict";i.r(a),i.d(a,{MImage:()=>f});var e=i(400),t=i.n(e),o=i(89),n=i.n(o),s=i(403),r=i(78),c=i(219);function l(){const e=new WeakMap,t=new IntersectionObserver((t=>{t.forEach((t=>e.get(t.target)(t)))}));return{watch(o,n){e.set(o,n),t.observe(o)},unwatch(o){t.unobserve(o),e.delete(o)}}}const d=new Set;let u;const h={components:{PseudoWindow:n(),MTransitionFadeIn:s.MTransitionFadeIn,MSkeletonBlock:r.MSkeletonBlock},inject:{theme:{default:(0,c.defaultTheme)(),from:c.MThemeKey}},inheritAttrs:!1,props:{src:{type:String,default:void 0},srcset:{type:String,default:void 0},sizes:{type:String,default:void 0},shape:{type:String,default:void 0,validator:e=>["original","square","circle","arch"].includes(e)},lazyload:{type:Boolean,default:!1}},data(){return{loaded:d.has(this.src+this.srcset),throttledResizeHandler:t()(this.getImageDimensions,200),height:0,width:0}},computed:{...(0,c.resolveThemeableProps)("image",["shape"]),style(){return{"--image-height":"".concat(this.height,"px")}},isThumbnail(){return this.width<"150"}},watch:{src:"load",srcset:"load"},mounted(){this.lazyload?(u||(u=new l),u.watch(this.$el,(({isIntersecting:e})=>{e&&this.load()}))):this.load(),this.getImageDimensions()},beforeDestroy(){u&&u.unwatch(this.$el)},methods:{load(){if(this.loaded||!this.src&&!this.srcset)return;const e=new Image;this.src&&(e.src=this.src),this.srcset&&(e.srcset=this.srcset),this.sizes&&(e.sizes=this.sizes),e.addEventListener("load",(()=>{d.add(this.src+this.srcset),this.loaded=!0,this.getImageDimensions()}))},getImageDimensions(){var e,t;this.height=(null===(e=this.$el)||void 0===e?void 0:e.offsetHeight)||"0",this.width=(null===(t=this.$el)||void 0===t?void 0:t.offsetWidth)||"0"}}},p={ImageWrapper:"ðŸ“š0-0-0-semantic-releaseemJCV",Image:"ðŸ“š0-0-0-semantic-releasej_xX0",thumbnail:"ðŸ“š0-0-0-semantic-release_7QZj",shape_square:"ðŸ“š0-0-0-semantic-releaseNojeF",shape_circle:"ðŸ“š0-0-0-semantic-releaseN3kcV",shape_arch:"ðŸ“š0-0-0-semantic-release_3RYa"};const f=function(e,t,o,n,s,r,i,a){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=o,l._compiled=!0),n&&(l.functional=!0),r&&(l._scopeId="data-v-"+r),i?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},l._ssrRegister=c):s&&(c=a?function(){s.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:s),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(e,t){return c.call(t),d(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:l}}(h,(function(){var e,t=this,o=t.$createElement,n=t._self._c||o;return n("div",{class:t.$s.ImageWrapper},[t.loaded?t._e():n("m-skeleton-block",{class:[t.$s.Image,t.$s["shape_"+t.resolvedShape]]}),t._v(" "),n("m-transition-fade-in",[n("img",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:t.loaded,expression:"loaded"}],class:(e={},e[t.$s.Image]=!0,e[t.$s["shape_"+t.resolvedShape]]=t.resolvedShape,e[t.$s.thumbnail]=t.isThumbnail,e),style:t.style,attrs:{src:t.src,srcset:t.srcset,sizes:t.sizes}},"img",t.$attrs,!1),t.$listeners))]),t._v(" "),n("pseudo-window",{on:{resize:t.throttledResizeHandler}})],1)}),[],!1,(function(e){this.$s=p.locals||p}),null,null).exports})(),a})()}));
//# sourceMappingURL=script.js.map
