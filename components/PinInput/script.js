!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("../../utils/BlockFormControlLayout"),require("../../utils/constants"));else if("function"==typeof define&&define.amd)define(["../../utils/BlockFormControlLayout","../../utils/constants"],e);else{var n="object"==typeof exports?e(require("../../utils/BlockFormControlLayout"),require("../../utils/constants")):e(t["../../utils/BlockFormControlLayout"],t["../../utils/constants"]);for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(this,(function(t,e){return(()=>{"use strict";var n={695:e=>{e.exports=t},30:t=>{t.exports=e}},i={};function o(t){var e=i[t];if(void 0!==e)return e.exports;var r=i[t]={exports:{}};return n[t](r,r.exports,o),r.exports}o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{o.r(r),o.d(r,{MPinInput:()=>a});var t=o(695),e=o(30);const n={props:{pinLength:{type:Number,default:6,validator:t=>t>0},variant:{type:String,default:"fill",validator:t=>["fill","outline"].includes(t)},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{pin:new Array(this.pinLength).fill(""),isShaking:!1}},computed:{currentPin(){return this.pin.join("")}},watch:{disabled(t){t||this.focusOnPinCell(0)}},mounted(){this.focusOnPinCell(0)},methods:{findFirstIncompletePinCellIndex(){return this.pin.findIndex((t=>""===t))},getPinCellRef:t=>"pin-cell-".concat(t),focusOnPinCell(t){var e;const n=this.$refs[this.getPinCellRef(t)];null!=n&&null!==(e=n[0])&&void 0!==e&&e.focus&&n[0].focus()},onInputPin(t,n){var i;const o=null==t||null===(i=t.target)||void 0===i?void 0:i.value;if(!o)return;const r=Number.isInteger(Number.parseInt(o,e.BASE_TEN))?o:"";if(this.attemptSplitPinIntoInputs(r,n))return;this.$set(this.pin,n,r);const s=this.findFirstIncompletePinCellIndex();-1!==s?this.focusOnPinCell(s):this.handleComplete(this.currentPin)},attemptSplitPinIntoInputs(t,n){if(0===n&&(null==t?void 0:t.length)===this.pinLength&&Number.isInteger(Number.parseInt(t,e.BASE_TEN))){this.$set(this,"pin",t.split(""));return setTimeout((()=>{this.handleComplete(this.currentPin)}),500),!0}return!1},handleComplete(t){this.$emit("complete",t)},onPastePin(t,e){t.preventDefault();const n=(t.clipboardData||window.clipboardData).getData("text");this.attemptSplitPinIntoInputs(n,e)},onDelete(t,e){this.$set(this.pin,e,"");const n=e-1;n>=0&&this.focusOnPinCell(n)},onFocusPin(t,e){t.preventDefault(),this.$set(this.pin,e,"")},resetPin(){const t=new Array(this.pinLength).fill("");this.$set(this,"pin",t)},shakeAndClearInputs(){this.resetPin(),this.focusOnPinCell(0),this.isShaking=!0;setTimeout((()=>{this.isShaking=!1}),1e3)}}},i={PinInputContainer:"ðŸ“š0-0-0-semantic-releasev_pBV",error:"ðŸ“š0-0-0-semantic-releaseiRlyg",PinInputCell:"ðŸ“š0-0-0-semantic-releaseJ1Wqf",filled:"ðŸ“š0-0-0-semantic-releasekDe6O",disabled:"ðŸ“š0-0-0-semantic-releasexSJ8u",shake:"ðŸ“š0-0-0-semantic-releaseqD1kG",invalidpinshake:"ðŸ“š0-0-0-semantic-releasewb7XY"};function s(t,e,n,i,o,r,s,l){var a,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),s?(a=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=a):o&&(a=l?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),a)if(u.functional){u._injectStyles=a;var p=u.render;u.render=function(t,e){return a.call(e),p(t,e)}}else{var c=u.beforeCreate;u.beforeCreate=c?[].concat(c,a):[a]}return{exports:t,options:u}}const l=s(n,(function(){var t,e=this,n=e.$createElement,i=e._self._c||n;return i("div",{class:(t={},t[e.$s.PinInputContainer]=!0,t[e.$s.shake]=e.isShaking,t[e.$s.disabled]=e.disabled,t[e.$s.error]=Boolean(e.$slots.error),t)},e._l(e.pin,(function(t,n){var o;return i("input",{key:n,ref:e.getPinCellRef(n),refInFor:!0,class:(o={},o[e.$s.PinInputCell]=!0,o[e.$s.filled]="fill"===e.variant,o[e.$s.error]=e.invalid,o),attrs:{autocomplete:0===n?"one-time-code":"off",disabled:e.disabled,maxlength:0===n?e.pinLength:1,type:"text",inputmode:"numeric",pattern:"[0-9]*",required:""},domProps:{value:t},on:{input:function(t){return e.onInputPin(t,n)},paste:function(t){return e.onPastePin(t,n)},focus:function(t){return e.onFocusPin(t,n)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.onDelete(t,n)}}})})),0)}),[],!1,(function(t){this.$s=i.locals||i}),null,null).exports;const a=s({components:{MBlockFormControlLayout:t.MBlockFormControlLayout,PinInputControl:l},inheritAttrs:!1,computed:{isInvalid(){return""===this.$attrs.invalid||this.$attrs.invalid||!!this.$slots.error}},methods:{shakeAndClearInputs(){this.$refs.pinInputControl.shakeAndClearInputs()}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("m-block-form-control-layout",{scopedSlots:t._u([{key:"control",fn:function(){return[n("pin-input-control",t._g(t._b({ref:"pinInputControl",attrs:{invalid:t.isInvalid},scopedSlots:t._u([t._l(t.$slots,(function(e,n){return{key:n,fn:function(){return[t._t(n)]},proxy:!0}}))],null,!0)},"pin-input-control",t.$attrs,!1),t.$listeners))]},proxy:!0},{key:"error",fn:function(){return[t._t("error")]},proxy:!0}],null,!0)})}),[],!1,null,null,null).exports})(),r})()}));
//# sourceMappingURL=script.js.map
